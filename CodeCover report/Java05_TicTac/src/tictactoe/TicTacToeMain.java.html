<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>TicTacToeMain.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">TicTacToeTest (Jan 13, 2022 5:15:43 PM)</a> &gt; <a href="../../index.html" class="el_group">Java05_TicTac</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">tictactoe</a> &gt; <span class="el_source">TicTacToeMain.java</span></div><h1>TicTacToeMain.java</h1><pre class="source lang-java linenums">package tictactoe;

import javax.swing.*;
import java.awt.event.*;
import java.awt.*;

public class TicTacToeMain extends JFrame implements ActionListener {

<span class="fc" id="L9"> private JButton [][]buttons = new JButton[3][3];</span>
<span class="fc" id="L10"> private JButton playButton = new JButton(&quot;Play&quot;);</span>
<span class="fc" id="L11"> private JLabel statusLabel = new JLabel(&quot;&quot;);</span>
<span class="fc" id="L12"> private TicTacToeAI game = null;</span>
<span class="fc" id="L13"> private int human = 0;</span>
<span class="fc" id="L14"> private int computer = 0;</span>
<span class="fc" id="L15"> private boolean isPlay = false;</span>
<span class="fc" id="L16"> private String []chars=new String[]{&quot;&quot;,&quot;X&quot;,&quot;O&quot;};</span>
 
 public JButton getButton(int i, int j) {
<span class="fc" id="L19">	 return buttons[i][j];</span>
 }
 
 public JButton getPlayButton() {
<span class="fc" id="L23">	 return playButton;</span>
 }

 private void setStatus(String s) {
<span class="fc" id="L27">  statusLabel.setText(s);</span>
<span class="fc" id="L28"> }</span>

 public int getHumanValue() {
<span class="fc" id="L31">	 return human;</span>
 }
 
 public JLabel getStatusLabel() {
<span class="fc" id="L35">	return statusLabel;</span>
}

public TicTacToeAI getGame() {
<span class="fc" id="L39">	return game;</span>
}

public int getComputerValue() {
<span class="fc" id="L43">	return computer;</span>
}

public boolean isPlay() {
<span class="fc" id="L47">	return isPlay;</span>
}

public String getChars(int i) {
<span class="fc" id="L51">	return chars[i];</span>
}

private void setButtonsEnabled(boolean enabled) {
<span class="fc bfc" id="L55" title="All 2 branches covered.">  for(int i=0;i&lt;3;i++)</span>
<span class="fc bfc" id="L56" title="All 2 branches covered.">   for(int j=0;j&lt;3;j++) {</span>
<span class="fc" id="L57">    buttons[i][j].setEnabled(enabled);</span>
<span class="fc bfc" id="L58" title="All 2 branches covered.">    if(enabled) buttons[i][j].setText(&quot; &quot;);</span>
   }
<span class="fc" id="L60"> }</span>

<span class="fc" id="L62"> public TicTacToeMain() {</span>

<span class="fc" id="L64">  setTitle(&quot;Tic Tac Toe&quot;);</span>
<span class="fc" id="L65">  setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="fc" id="L66">  setResizable(false);</span>

<span class="fc" id="L68">  JPanel centerPanel = new JPanel(new GridLayout(3,3));</span>
<span class="fc" id="L69">  Font font = new Font(&quot;Arial&quot;,Font.BOLD, 32);</span>
<span class="fc bfc" id="L70" title="All 2 branches covered.">  for(int i=0;i&lt;3;i++)</span>
<span class="fc bfc" id="L71" title="All 2 branches covered.">   for(int j=0;j&lt;3;j++) {</span>
<span class="fc" id="L72">    buttons[i][j] = new JButton(&quot; &quot;);</span>
<span class="fc" id="L73">    buttons[i][j].setFont(font);</span>
<span class="fc" id="L74">    buttons[i][j].addActionListener(this);</span>
<span class="fc" id="L75">    buttons[i][j].setFocusable(false);</span>
<span class="fc" id="L76">    centerPanel.add(buttons[i][j]);</span>
   }

<span class="fc" id="L79">  playButton.addActionListener(this);</span>

<span class="fc" id="L81">  JPanel northPanel = new JPanel();</span>
<span class="fc" id="L82">  northPanel.add(statusLabel);</span>

<span class="fc" id="L84">  JPanel southPanel = new JPanel();</span>
<span class="fc" id="L85">  southPanel.add(playButton);</span>

<span class="fc" id="L87">  setStatus(&quot;Click 'Play' To Start&quot;);</span>
<span class="fc" id="L88">  setButtonsEnabled(false);</span>

<span class="fc" id="L90">  add(northPanel,&quot;North&quot;);</span>
<span class="fc" id="L91">  add(centerPanel,&quot;Center&quot;);</span>
<span class="fc" id="L92">  add(southPanel,&quot;South&quot;);</span>

<span class="fc" id="L94">  setSize(300,300);</span>

  // I'm lazy to implement the correct way
<span class="fc" id="L97">  setLocationRelativeTo(null);</span>
<span class="fc" id="L98"> }</span>

 public static void main(String []args) {
<span class="nc" id="L101">  new TicTacToeMain().setVisible(true);</span>
<span class="nc" id="L102"> }</span>

 private void computerTurn() {
<span class="fc bfc" id="L105" title="All 2 branches covered.">  if(!isPlay) return;</span>

<span class="fc" id="L107">  int []pos = game.nextMove(computer);</span>
<span class="pc bpc" id="L108" title="1 of 2 branches missed.">  if(pos!=null) {</span>
<span class="fc" id="L109">   int i = pos[0];</span>
<span class="fc" id="L110">   int j = pos[1];</span>
<span class="fc" id="L111">   buttons[i][j].setText(chars[computer]);</span>
<span class="fc" id="L112">   game.setBoardValue(i,j,computer);</span>
  }

<span class="fc" id="L115">  checkState();</span>
<span class="fc" id="L116"> }</span>

 private void gameOver(String s) {
<span class="fc" id="L119">  setStatus(s);</span>
<span class="fc" id="L120">  setButtonsEnabled(false);</span>
<span class="fc" id="L121">  isPlay = false;</span>
<span class="fc" id="L122"> }</span>

 private void checkState() {
<span class="fc bfc" id="L125" title="All 2 branches covered.">  if(game.isWin(human)) {</span>
<span class="fc" id="L126">   gameOver(&quot;Congratulations, You've Won!&quot;);</span>
  }
<span class="fc bfc" id="L128" title="All 2 branches covered.">  if(game.isWin(computer)) {</span>
<span class="fc" id="L129">   gameOver(&quot;Sorry, You Lose!&quot;);</span>
  }
<span class="pc bpc" id="L131" title="1 of 4 branches missed.">  if(game.nextMove(human)==null &amp;&amp; game.nextMove(computer)==null) {</span>
<span class="fc" id="L132">   gameOver(&quot;Draw, Click 'Play' For Rematch!&quot;);</span>
  }
<span class="fc" id="L134"> }</span>

 private void click(int i,int j) {
<span class="fc bfc" id="L137" title="All 2 branches covered.">  if(game.getBoardValue(i,j)==TicTacToeAI.EMPTY) {</span>
<span class="fc" id="L138">   buttons[i][j].setText(chars[human]);</span>
<span class="fc" id="L139">   game.setBoardValue(i,j,human);</span>
<span class="fc" id="L140">   checkState();</span>
<span class="fc" id="L141">   computerTurn();</span>
  }
<span class="fc" id="L143"> }</span>

 public void actionPerformed(ActionEvent event) {
<span class="fc bfc" id="L146" title="All 2 branches covered.">  if(event.getSource()==playButton) {</span>
<span class="fc" id="L147">   play();</span>
<span class="fc" id="L148">  }else {</span>
<span class="fc bfc" id="L149" title="All 2 branches covered.">   for(int i=0;i&lt;3;i++)</span>
<span class="fc bfc" id="L150" title="All 2 branches covered.">    for(int j=0;j&lt;3;j++)</span>
<span class="fc bfc" id="L151" title="All 2 branches covered.">     if(event.getSource()==buttons[i][j])</span>
<span class="fc" id="L152">      click(i,j);</span>
  }
<span class="fc" id="L154"> }</span>

 private void play() {
<span class="fc" id="L157">  game = new TicTacToeAI();</span>
<span class="fc" id="L158">  human = TicTacToeAI.ONE;</span>
<span class="fc" id="L159">  computer = TicTacToeAI.TWO;</span>
<span class="fc" id="L160">  setStatus(&quot;Your Turn&quot;);</span>
<span class="fc" id="L161">  setButtonsEnabled(true);</span>
<span class="fc" id="L162">  isPlay = true;</span>
<span class="fc" id="L163"> }</span>

public void setGame(TicTacToeAI game) {
<span class="fc" id="L166">	this.game = game;</span>
<span class="fc" id="L167">}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span>TicTacToeTest (Jan 13, 2022 5:15:43 PM)</div></body></html>